<head>
  <!-- Import bottom menu CSS file -->
  {{ 'bottom-menu.css' | asset_url | stylesheet_tag }}
  
  <!-- Import necessary scripts for cart and menu functionality -->
  <script
    type="module"
    src="{{ 'cart-icon.js' | asset_url }}"
    fetchpriority="low"
  ></script>
  
  <script
    type="module"
    src="{{ 'header-drawer.js' | asset_url }}"
    fetchpriority="low"
  ></script>

  <style>
    /* Enhanced styling combining original design with optimized structure */
    .sticky-section {
      position: fixed;
      bottom: 0;
      width: 100%;
      background-color: {{ section.settings.bg_color}};
      padding: 0;
      text-align: center;
      z-index: 7;
      height: {{ section.settings.height }}px;
      display: flex;
      justify-content: space-around;
      box-shadow: 0 0 10px rgba(0, 0, 0, .11);
      --color-primary-button-background: {{ section.settings.icon_color }};
      --color-primary-button-text: {{ section.settings.color }};
      {% if section.settings.cart_bubble_background != blank %}
        --bottom-menu-cart-bubble-background: {{ section.settings.cart_bubble_background }};
      {% endif %}
      {% if section.settings.cart_bubble_text != blank %}
        --bottom-menu-cart-bubble-text: {{ section.settings.cart_bubble_text }};
      {% endif %}
      {% if section.settings.wishlist_counter_background != blank %}
        --bottom-menu-wishlist-counter-background: {{ section.settings.wishlist_counter_background }};
      {% endif %}
      {% if section.settings.wishlist_counter_text != blank %}
        --bottom-menu-wishlist-counter-text: {{ section.settings.wishlist_counter_text }};
      {% endif %}
    }
    
    @media only screen and (min-width: 768px) {
      .sticky-section {
        display: none;
      }
    }
    
    .sticky-section .btm_link {
      color: {{ section.settings.color }};
      text-decoration: none;
      margin: 10px;
      font-size: {{ section.settings.font_size }}px;
      display: flex;
      flex-direction: column;
      align-content: center;
      align-items: center;
      position: relative;
      background: none;
      border: none;
      cursor: pointer;
      width: 100%;
      height: 100%;
    }
    .account-block__avatar-wrapper {
      --account-button-size: 1.425rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: var(--account-button-size);
      height: var(--account-button-size);
      border-radius: 50%;
      overflow: hidden;
      background-color: var(--bottom-menu-wishlist-counter-background, var(--color-primary-button-background));
      color: var(--bottom-menu-wishlist-counter-text, var(--color-primary-button-text));
      margin-bottom: 0.2rem;
      position: relative;
      top: -3px;
    }
    .account-block__avatar-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .account-block__avatar-initials {
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Sync with original avatar styling from account-button.liquid */
    .account-block-link shop-user-avatar {
      pointer-events: none;
      width: var(--account-button-size, 1.625rem);
      height: var(--account-button-size, 1.625rem);
      border-radius: 50%;
      overflow: hidden;
    }
    
    .sticky-section svg {
      width: var(--bottom-menu-icon-size, 2.2rem);
      height: var(--bottom-menu-icon-size, 2.2rem);
      stroke: {{ section.settings.icon_color }};
      fill: none;
      stroke-width: var(--icon-stroke-width, 1.5px);
    }
    .account-block-link .account-button__avatar {
      --avatar-size: calc(var(--bottom-menu-icon-size, 2.2rem) - 0.2rem);
      display: flex;
      align-items: center;
      justify-content: center;
      width: var(--avatar-size);
      height: var(--avatar-size);
      border-radius: 50%;
      background-color: var(--color-primary-button-background, {{ section.settings.icon_color }});
      color: var(--color-primary-button-text, {{ section.settings.color }});
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      line-height: 1;
    }

    .sticky-section .line-icon-wrapper {
      width: 25px;
      height: 25px;
      margin-bottom: calc(var(--margin-2xs, 6px) - 3px);
      position: relative;
      top: -3px;
    }

    .sticky-section .line-icon-wrapper::before {
      content: '';
      display: block;
      width: 100%;
      height: 100%;
      background-color: {{ section.settings.icon_color }};
      -webkit-mask: url({{ 'line-icon.svg' | asset_url }}) center/contain no-repeat;
      mask: url({{ 'line-icon.svg' | asset_url }}) center/contain no-repeat;
    }

    .extended-menu .line-icon {
      width: 22px;
      height: 22px;
      display: block;
      background-color: {{ section.settings.icon_color }};
      -webkit-mask: url({{ 'line-icon.svg' | asset_url }}) center/contain no-repeat;
      mask: url({{ 'line-icon.svg' | asset_url }}) center/contain no-repeat;
    }
    
    .sticky-section-column {
      align-items: center;
      border-right: 1px solid #eee;
      display: flex;
      flex: 1 0 auto;
      justify-content: center;
      position: relative;
      width: 20%;
      overflow: visible !important;
    }
    
    .sticky-section-column:last-child {
      border-right: none !important;
      padding: 0;
    }
    
    {% if section.settings.hide-border %}
    .sticky-section-column {
      border-right: none !important;
    }
    {% endif %}
    
    /* Dynamic background color for popups - Override CSS file */
    .extended-menu, .collection-popup {
      background-color: {{ section.settings.bg_color }};
    }
    
    /* Dynamic text color for menu links - Override CSS file */
    .menu-link {
      color: {{ section.settings.color }};
    }
    
    /* CSS Variables for consistency */
    :root {
      --bottom-menu-height: {{ section.settings.height }}px;
      --bottom-menu-bg: {{ section.settings.bg_color }};
      --bottom-menu-color: {{ section.settings.color }};
      --bottom-menu-icon-color: {{ section.settings.icon_color }};
      --bottom-menu-font-size: {{ section.settings.font_size }}px;
      {% if section.settings.hide-border %}
      --bottom-menu-border-color: transparent;
      {% endif %}
    }
  </style>
</head>

<body>
  {% assign extended_menu_block = section.blocks | where: 'type', 'extended_menu_block' | first %}
  <div class="sticky-section">
    {% for block in section.blocks %}
      {%- case block.type -%}
        {%- when 'block' -%}
          <div class="sticky-section-column">
            <a href="{{ block.settings.url }}" class="btm_link">
              <span class="svg-wrapper" aria-hidden="true">
                {{ 'icon-link-line.svg' | inline_asset_content }}
              </span>
              {{ block.settings.caption }}
            </a>
          </div>
        {%- when 'home_block' -%}
          <div class="sticky-section-column">
            <a href="{{ routes.root_url }}" class="btm_link">
              <span class="svg-wrapper" aria-hidden="true">
                {{ 'home-line.svg' | inline_asset_content }}
              </span>
              {{ block.settings.caption }}
            </a>
          </div>
        {%- when 'cart_block' -%}
          <div class="sticky-section-column">
            <button
              class="btm_link button-unstyled bottom-nav-cart-trigger"
              type="button"
              aria-label="{{ 'accessibility.cart' | t }}"
              aria-describedby="cart-bubble-text"
              data-testid="bottom-cart-trigger"
            >
              <cart-icon
                class="
                  header-actions__cart-icon
                  bottom-nav-cart-icon
                  {% unless cart == empty %} header-actions__cart-icon--has-cart{% endunless %}
                "
                data-testid="cart-icon"
              >
                <span
                  class="svg-wrapper"
                  aria-hidden="true"
                >
                  {{ 'icon-cart.svg' | inline_asset_content }}
                </span>
                {% render 'cart-bubble', limit: 100, live_region: true %}
              </cart-icon>
              {{ block.settings.caption }}
            </button>
          </div>
        {%- when 'wishlist_block' -%}
        <div class="sticky-section-column">
          <a href="/pages/wishlist" class="bottom-icon-sticky btm_link header__icon--wishlist-link">
            <span class="svg-wrapper">
              {{ 'icon-heart-line.svg' | inline_asset_content }}
              <span
                class="wishlist-total-count-bottom-menu is-hidden"
                data-wishlist-counter-bottom
                role="status"
                aria-live="polite"
              >
                <span class="wishlist-total-count-bottom-menu__text">
                  <span class="visually-hidden" data-wishlist-counter-bottom-sr>Wishlist items: 0</span>
                  <span class="wishlist-total-count-bottom-menu__number" aria-hidden="true">0</span>
                </span>
              </span>
            </span>
            {{ block.settings.caption }}
          </a>
        </div>
        {%- when 'Menu_block' -%}
          {% assign line_caption = block.settings.caption %}
          {% assign line_link = block.settings.line_link %}
          {% if extended_menu_block %}
            {% if extended_menu_block.settings.show_line != true %}
              {% continue %}
            {% endif %}
            {% if line_caption == blank %}
              {% assign line_caption = extended_menu_block.settings.line_caption %}
            {% endif %}
            {% if line_link == blank %}
              {% assign line_link = extended_menu_block.settings.line_link %}
            {% endif %}
          {% endif %}
          {% if line_caption == blank %}
            {% assign line_caption = 'Line' %}
          {% endif %}
          {% if line_link == blank %}
            {% assign line_link = '#' %}
          {% endif %}
          <div class="sticky-section-column">
            <a
              href="{{ line_link }}"
              class="btm_link"
              {% if line_link contains '://' %}target="_blank" rel="noopener"{% endif %}
            >
              <span class="svg-wrapper line-icon-wrapper" aria-hidden="true"></span>
              {{ line_caption | default: 'Line' }}
            </a>
          </div>
        {%- when 'Account_block' -%}
        <div class="sticky-section-column">
          <a href="{{ routes.account_url }}" class="btm_link account-block-link">
            {% if customer %}
              {% if customer.has_avatar? %}
                {{ customer | avatar }}
              {% elsif customer.first_name or customer.email %}
                {% liquid
                  assign initial = customer.email | first
                  if customer.first_name != blank
                    assign initial = customer.first_name | first
                  endif
                %}
                <span class="account-block__avatar-wrapper account-block__avatar-initials" aria-hidden="true">
                  {{- initial -}}
                </span>
              {% else %}
                <span class="svg-wrapper" aria-hidden="true">
                  {{ 'account-circle-line.svg' | inline_asset_content }}
                </span>
              {% endif %}
            {% else %}
              <span class="svg-wrapper" aria-hidden="true">
                {{ 'account-circle-line.svg' | inline_asset_content }}
              </span>
            {% endif %}
            {{ block.settings.caption }}
          </a>
        </div>
        {%- when 'Search_block' -%}
          <div class="sticky-section-column">
            <a href="{{ routes.search_url }}" class="btm_link">
              <span class="svg-wrapper" aria-hidden="true">
                {{ 'icon-search.svg' | inline_asset_content }}
              </span>
              {{ block.settings.caption }}
            </a>
          </div>
        {%- when 'cat_block' -%}
          <div class="sticky-section-column" id="collectionButton">
            <a href="#collectionPopup" class="btm_link">
              <span class="svg-wrapper" aria-hidden="true">
                {{ 'icon-layout-grid-line.svg' | inline_asset_content }}
              </span>
              {{ block.settings.caption }}
            </a>
          </div>
          <div id="collectionPopup" class="collection-popup">
            <span class="close-popup" id="closeCollectionPopupButton">Close</span>
            <div id="custom-menu-section">
              <div class="custom-menu">
                {% for link in linklists[block.settings.menu].links %}
                  <li class="custom-menu-links">
                    <div class="custom-menu-image">
                      {% if link.object.featured_image %}
                        {% assign menu_image_url = link.object.featured_image | image_url: width: 100, height: 100 %}
                        <img src="{{ menu_image_url | asset_url }}" alt="{{ link.title | escape }}" width="100" height="100">
                      {% endif %}
                    </div>
                    <a href="{{ link.url }}" class="menu-link">{{ link.title }}</a>
                  </li>
                {% endfor %}
              </div>
            </div>
          </div>
        {%- when 'extended_menu_block' -%}
        <div class="sticky-section-column sticky-section-extended-menu-drawer" id="exmenuButton">
          <a href="#popup" class="btm_link">
             {% if block.settings.icon_url == blank %}
                <span class="svg-wrapper" aria-hidden="true">
                  {{ 'icon-more-2-line.svg' | inline_asset_content }}
                </span>
             {% else %}
                {{ block.settings.icon_url }}
             {% endif %}
              {{ block.settings.caption }}
          </a>
        </div>
        <div id="popup" class="extended-menu">
          <span class="close-popup" id="closePopupButton">Close</span>
          <div class="container">
            {% if block.settings.show_search %}
            <div class="item item-1">
              <a href="{{ routes.search_url }}">
                <span class="svg-wrapper" aria-hidden="true">
                  {{ 'icon-search.svg' | inline_asset_content }}
                </span>
                {{ block.settings.search_caption | default: 'Search' }}
              </a>
            </div>
            {% endif %}
            {% if block.settings.show_wishlist %}
            <div class="item item-2">
              <a href="/pages/wishlist">
                <span class="svg-wrapper" aria-hidden="true">
                  {{ 'icon-heart-line.svg' | inline_asset_content }}
                </span>
                {{ block.settings.wishlist_caption | default: 'Wishlist' }}
              </a>
            </div>
            {% endif %}
            {% if block.settings.show_line %}
            {% assign popup_line_link = block.settings.line_link | default: '#' %}
            <div class="item item-3">
              <a
                href="{{ popup_line_link }}"
                {% if popup_line_link contains '://' %}target="_blank" rel="noopener"{% endif %}
              >
                <span class="svg-wrapper" aria-hidden="true">
                  <span class="line-icon"></span>
                </span>
                {{ block.settings.line_caption | default: 'Line' }}
              </a>
            </div>
            {% endif %}
            {% if block.settings.show_track %}
            <div class="item item-4">
              <a href="{{ block.settings.track_url | default: '#' }}">
                <span class="svg-wrapper" aria-hidden="true">
                  {{ 'icon-truck-line.svg' | inline_asset_content }}
                </span>
                {{ block.settings.track_caption | default: 'Track Order' }}
              </a>
            </div>
            {% endif %}
            {% if block.settings.show_help %}
            <div class="item item-5">
              <a href="{{ block.settings.help_url | default: '#' }}">
                <span class="svg-wrapper" aria-hidden="true">
                  {{ 'icon-question-line.svg' | inline_asset_content }}
                </span>
                {{ block.settings.help_caption | default: 'Help' }}
              </a>
            </div>
            {% endif %}
          </div>
        </div>
      {%- endcase -%}
    {% endfor %}
  </div>
</body>
<script>
/**
 * Enhanced Bottom Nav Bar Functionality
 * Combines original styling with optimized cart integration
 */
(function() {
  'use strict';
  
  // Enhanced menu drawer handling
  function setupMenuDrawer() {
    // Handle menu drawer trigger buttons
    const menuButtons = document.querySelectorAll('[data-menu-drawer-trigger], .sticky-section-menu-drawer');
    menuButtons.forEach(button => {
      button.addEventListener('click', function(e) {
        e.preventDefault();
        // Find and trigger the main menu drawer
        const mainMenuTrigger = document.querySelector('.menu-drawer-container .header__icon--menu, [aria-label*="menu"]:not(.btm_link)');
        if (mainMenuTrigger) {
          mainMenuTrigger.click();
        } else {
          // Fallback: try to trigger menu drawer component directly
          const menuDrawer = document.querySelector('menu-drawer, [data-menu-drawer]');
          if (menuDrawer && menuDrawer.showDialog) {
            menuDrawer.showDialog();
          }
        }
      });
    });
  }
  
  // Enhanced popup management with better UX
  function initializePopups() {
    // Collection popup management
    const collectionButton = document.getElementById('collectionButton');
    const closeCollectionButton = document.getElementById('closeCollectionPopupButton');
    const collectionPopup = document.getElementById('collectionPopup');

    if (collectionButton && collectionPopup) {
      collectionButton.addEventListener('click', function (e) {
        e.preventDefault();
        if (collectionPopup.style.display === 'flex') {
          collectionPopup.style.display = 'none';
        } else {
          collectionPopup.style.display = 'flex';
        }
      });
    }

    if (closeCollectionButton && collectionPopup) {
      closeCollectionButton.addEventListener('click', function (e) {
        e.preventDefault();
        collectionPopup.style.display = 'none';
      });
    }

    // Extended menu popup management
    const menuButton = document.getElementById('exmenuButton');
    const closePopupButton = document.getElementById('closePopupButton');
    const popup = document.getElementById('popup');

    if (menuButton && popup) {
      menuButton.addEventListener('click', function(e) {
        e.preventDefault();
        if (popup.style.display === 'flex') {
          popup.style.display = 'none';
        } else {
          popup.style.display = 'flex';
        }
      });
    }
    
    if (closePopupButton && popup) {
      closePopupButton.addEventListener('click', function(e) {
        e.preventDefault();
        popup.style.display = 'none';
      });
    }
    
    // Enhanced outside click handling
    document.addEventListener('click', function (e) {
      // Close collection popup if clicking outside
      if (collectionPopup && collectionPopup.style.display === 'flex' && 
          !collectionPopup.contains(e.target) && 
          !collectionButton.contains(e.target)) {
        collectionPopup.style.display = 'none';
      }
      
      // Close extended menu popup if clicking outside
      if (popup && popup.style.display === 'flex' && 
          !popup.contains(e.target) && 
          !menuButton.contains(e.target)) {
        popup.style.display = 'none';
      }
    });
    
    // Enhanced escape key handling
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        if (collectionPopup && collectionPopup.style.display === 'flex') {
          collectionPopup.style.display = 'none';
        }
        if (popup && popup.style.display === 'flex') {
          popup.style.display = 'none';
        }
      }
    });
  }
  
  // Enhanced cart functionality
  function enhanceCartFunctionality() {
    // Handle bottom nav cart button clicks
    const bottomCartTrigger = document.querySelector('.bottom-nav-cart-trigger');
    if (bottomCartTrigger) {
      bottomCartTrigger.addEventListener('click', function(e) {
        e.preventDefault();
        
        // For drawer cart type, find and trigger the header cart drawer
        if ('{{ settings.cart_type }}' === 'drawer') {
          // Try to find the header cart drawer trigger button
          const headerCartTrigger = document.querySelector('cart-drawer-component button[on\\:click="/open"], .cart-drawer button[on\\:click="/open"]');
          if (headerCartTrigger) {
            headerCartTrigger.click();
          } else {
            // Alternative: try to find cart-drawer-component and call its open method
            const cartDrawer = document.querySelector('cart-drawer-component');
            if (cartDrawer && cartDrawer.showDialog) {
              cartDrawer.showDialog();
            }
          }
        } else {
          // For page cart type, navigate to cart page
          window.location.href = '{{ routes.cart_url }}';
        }
      });
    }
    
    // Listen for theme cart updates to sync with any remaining legacy elements
    document.addEventListener('theme:cart:change', function(e) {
      const legacyCartCount = document.querySelector('#cart-count-bubble');
      if (legacyCartCount && e.detail && e.detail.cart) {
        legacyCartCount.textContent = e.detail.cart.item_count;
      }
    });
  }
  
  // Initialize everything when DOM is ready
  function initialize() {
    setupMenuDrawer();
    initializePopups();
    enhanceCartFunctionality();
    
    // Note: Modern cart functionality is handled by cart-icon-component
    // Note: Wishlist counter management is handled by assets/wishlist.js
  }
  
  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initialize);
  } else {
    initialize();
  }
  
  // Handle page transitions if view transitions are enabled
  document.addEventListener('astro:page-load', initialize);
})();

// Legacy openCartDrawer function for backward compatibility
function openCartDrawer() {
  const cartDrawer = document.querySelector('cart-drawer-component, [data-cart-drawer]');
  if (cartDrawer && cartDrawer.showDialog) {
    cartDrawer.showDialog();
  }
}
</script>

{% schema %}
{
    "name": "t:names.sticky_bottom_menu",
    "enabled_on": {
        "groups": ["footer"]
    },
    "settings": [
        {
            "type": "header",
            "content": "t:sections.sticky_bottom_menu.settings.general"
        },
        {
            "type": "color",
            "id": "bg_color",
            "label": "t:sections.sticky_bottom_menu.settings.bg_color.label",
            "default": "#ffffff"
        },
        {
            "type": "color",
            "id": "icon_color",
            "label": "t:sections.sticky_bottom_menu.settings.icon_color.label",
            "default": "#000"
        },
        {
            "type": "color",
            "id": "color",
            "label": "t:sections.sticky_bottom_menu.settings.color.label",
            "default": "#000"
        },
        {
            "type": "header",
            "content": "t:sections.sticky_bottom_menu.settings.badge_colors"
        },
        {
            "type": "color",
            "id": "cart_bubble_background",
            "label": "t:sections.sticky_bottom_menu.settings.cart_bubble_background.label"
        },
        {
            "type": "color",
            "id": "cart_bubble_text",
            "label": "t:sections.sticky_bottom_menu.settings.cart_bubble_text.label"
        },
        {
            "type": "color",
            "id": "wishlist_counter_background",
            "label": "t:sections.sticky_bottom_menu.settings.wishlist_counter_background.label"
        },
        {
            "type": "color",
            "id": "wishlist_counter_text",
            "label": "t:sections.sticky_bottom_menu.settings.wishlist_counter_text.label"
        },
        {
            "type": "range",
            "id": "font_size",
            "min": 5,
            "max": 20,
            "step": 1,
            "unit": "px",
            "label": "t:sections.sticky_bottom_menu.settings.font_size.label",
            "default": 10
        },
        {
            "type": "header",
            "content": "t:sections.sticky_bottom_menu.settings.spacing"
        },
        {
            "type": "range",
            "id": "height",
            "min": 50,
            "max": 100,
            "step": 10,
            "unit": "px",
            "label": "t:sections.sticky_bottom_menu.settings.height.label",
            "default": 70
        },
        {
            "type": "checkbox",
            "id": "hide-border",
            "label": "t:sections.sticky_bottom_menu.settings.hide_border.label",
            "default": false
        }
    ],
    "blocks": [
        {
            "type": "block",
            "name": "t:sections.sticky_bottom_menu.blocks.custom_block.name",
            "limit": 5,
            "settings": [
                {
                    "type": "text",
                    "id": "caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.custom_block.settings.caption.label",
                    "default": "Caption"
                },
                {
                    "type": "url",
                    "id": "url",
                    "label": "t:sections.sticky_bottom_menu.blocks.custom_block.settings.url.label"
                }
            ]
        },
        {
            "type": "home_block",
            "name": "t:sections.sticky_bottom_menu.blocks.home_block.name",
            "limit": 1,
            "settings": [
                {
                    "type": "text",
                    "id": "caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.home_block.settings.caption.label",
                    "default": "Home"
                }
            ]
        },
        {
            "type": "cart_block",
            "name": "t:sections.sticky_bottom_menu.blocks.cart_block.name",
            "limit": 1,
            "settings": [
                {
                    "type": "text",
                    "id": "caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.cart_block.settings.caption.label",
                    "default": "Cart"
                }
            ]
        },
        {
            "type": "wishlist_block",
            "name": "t:sections.sticky_bottom_menu.blocks.wishlist_block.name",
            "limit": 1,
            "settings": [
                {
                    "type": "text",
                    "id": "caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.wishlist_block.settings.caption.label",
                    "default": "Wishlist"
                }
            ]
        },
        {
            "type": "Menu_block",
            "name": "t:sections.sticky_bottom_menu.blocks.line_block.name",
            "limit": 1,
            "settings": [
                {
                    "type": "text",
                    "id": "caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.line_block.settings.caption.label",
                    "default": "Line"
                },
                {
                    "type": "url",
                    "id": "line_link",
                    "label": "t:sections.sticky_bottom_menu.blocks.line_block.settings.line_link.label",
                    "info": "t:sections.sticky_bottom_menu.blocks.line_block.settings.line_link.info"
                }
            ]
        },
        {
            "type": "Account_block",
            "name": "t:sections.sticky_bottom_menu.blocks.account_block.name",
            "limit": 1,
            "settings": [
                {
                    "type": "text",
                    "id": "caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.account_block.settings.caption.label",
                    "default": "Account"
                }
            ]
        },
        {
            "type": "Search_block",
            "name": "t:sections.sticky_bottom_menu.blocks.search_block.name",
            "limit": 1,
            "settings": [
                {
                    "type": "text",
                    "id": "caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.search_block.settings.caption.label",
                    "default": "Search"
                }
            ]
        },
        {
            "type": "cat_block",
            "name": "t:sections.sticky_bottom_menu.blocks.categories_block.name",
            "limit": 1,
            "settings": [
                {
                  "type": "link_list",
                  "id": "menu",
                  "default": "main-menu",
                  "label": "t:sections.sticky_bottom_menu.blocks.categories_block.settings.menu.label"
                },
                {
                    "type": "text",
                    "id": "caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.categories_block.settings.caption.label",
                    "default": "Categories"
                }
            ]
        },
      {
            "type": "extended_menu_block",
            "name": "t:sections.sticky_bottom_menu.blocks.more_block.name",
            "limit": 1,
            "settings": [
                {
                    "type": "header",
                    "content": "t:sections.sticky_bottom_menu.blocks.more_block.settings.general"
                },
                {
                    "type": "text",
                    "id": "caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.caption.label",
                    "default": "More"
                },
                {
                    "type": "header",
                    "content": "t:sections.sticky_bottom_menu.blocks.more_block.settings.search"
                },
                {
                    "type": "checkbox",
                    "id": "show_search",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.show_search.label",
                    "default": true
                },
                {
                    "type": "text",
                    "id": "search_caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.search_caption.label",
                    "default": "Search"
                },
                {
                    "type": "header",
                    "content": "t:sections.sticky_bottom_menu.blocks.more_block.settings.line"
                },
                {
                    "type": "checkbox",
                    "id": "show_line",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.show_line.label",
                    "default": true
                },
                {
                    "type": "text",
                    "id": "line_caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.line_caption.label"
                },
                {
                    "type": "url",
                    "id": "line_link",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.line_link.label",
                    "info": "t:sections.sticky_bottom_menu.blocks.more_block.settings.line_link.info"
                },
                {
                    "type": "header",
                    "content": "t:sections.sticky_bottom_menu.blocks.more_block.settings.wishlist"
                },
                {
                    "type": "checkbox",
                    "id": "show_wishlist",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.show_wishlist.label",
                    "default": true
                },
                {
                    "type": "text",
                    "id": "wishlist_caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.wishlist_caption.label"
                },
                {
                    "type": "header",
                    "content": "t:sections.sticky_bottom_menu.blocks.more_block.settings.track_order"
                },
                {
                    "type": "checkbox",
                    "id": "show_track",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.show_track.label",
                    "default": true
                },
                {
                    "type": "text",
                    "id": "track_caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.track_caption.label"
                },
                {
                    "type": "url",
                    "id": "track_url",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.track_url.label"
                },
                {
                    "type": "header",
                    "content": "t:sections.sticky_bottom_menu.blocks.more_block.settings.help"
                },
                {
                    "type": "checkbox",
                    "id": "show_help",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.show_help.label",
                    "default": true
                },
                {
                    "type": "text",
                    "id": "help_caption",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.help_caption.label"
                },
                {
                    "type": "url",
                    "id": "help_url",
                    "label": "t:sections.sticky_bottom_menu.blocks.more_block.settings.help_url.label"
                }
            ]
        }
    ],
    "max_blocks": 5,
    "presets": [
        {
            "name": "t:names.sticky_bottom_menu",
            "category": "t:categories.footer",
            "blocks": [
              {
              "type": "home_block"
            },
            {
              "type": "cart_block"
            },
            {
              "type": "Search_block"
            },
            {
              "type": "Menu_block"
            },
            {
              "type": "Account_block"
            }
            ]
        }
    ]
}
{% endschema %}
